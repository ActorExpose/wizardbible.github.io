x0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0x
x0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0x

--- 第○章: ダビングできねーし！！ ---

著者：嶋崎　聡

x0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0x
x0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0xx0xXx0x


■0x01.) はじめまして

　WBを読んでいるみなさま、はじめまして。2009/09に発売する「クラッカーの教
科書」を書きました、嶋崎と申します。今回、IPUSIRONさんとまどさんに「WBの
紙面、ちょっとあげるから、宣伝したらいいよ」と許可が出ましたので駄文では
ありますが、簡単な自己紹介がてら書かせていただきました。よろしくお願いし
ます。


■0x02.) ぼくのかんがえたさいきょうのくらっかー

　「クラッカーの教科書」という大それたタイトルをつけていただいた本を書く
くらいなので、「お前は相当なやつなんだろうな！」と思っている方もいると思
います。
　しかし、あの本には「もうこれさえあれば大丈夫な魔法のツール(笑)」とか「
これ以上ないくらいすごいテクニック公開(笑)」とか「この方法で俺はナンパに
100%成功し続けています！」みたいなことは書かれていません。
　自分ですごいと思ったところは「ねずみさんに書いてもらった」ことでしょう
か。
　それだけでも読んでもらう価値はあるんじゃないかと思います。
　そして、今回はここに書く機会をいただきましたので、過去自分がどんなきっ
かけから解析なんてものをはじめたのか、ということを書いてみたいと思います。
興味ねーよって人もいるかとは思いますが、なにかの暇つぶしに読んでください。


■0x03.) 003.ダビングできねーし！！

　今でこそ、ハードディスクが100GBなんてのも珍しくない、むしろ、少ない部類
に入る時代になりました。うすっぺらーい小さいカードの中に4GBとか入っちゃう
世の中です。
　しかし、私がPCというものを知った頃は記録媒体に「カセットテープ」でした。
カセットテープにプログラムを「セーブ」していたころです。読み込みは「ロー
ド」です。
　CLOADとかCSAVEとか書いていた頃です。
　世の中は、DOSなんてものはなくて、N-BASICとかN60-BASICとかN88-BASICとか
…。Microsoft BASICの亜種が国内メーカーの手によって量産されていた時代です。
雑誌に載ったプログラムリストを打ち込んで、間違いを探し、テープに保存。そ
ういうことを繰り返してコレクションを増やす毎日でした。
　いや、むしろ、打ち込み途中のものでも頻繁にセーブしないままに「これで動
くかな？」とか実行しようものなら、画面は起動時の画面に逆戻り、とか、よく
あった話です。それだけで数時間の苦労は消えちゃったりして。
　そんな感じで60分テープに何本もソフトを入れて持ち歩くことができた時代で
す。いまならUSBメモリにたくさん拡張子.imgとか付けて、エミュレータ本体と一
緒に持ち歩けるのにね。

　当時小学生の私は本屋に行って、「ラジオの製作」とかああいう本を買おうか
なと思っていました。はんだごて握ってみたかったから。でも、目的の本は存在
せず、代わりになんかおもしろそうなタイトルが書いてある本があったんです。
工学社からでてる「I/O」でした。初めて買ったときは、APPLE][の将棋盤だった
気がする。「将棋」じゃなくて「将棋盤」なのがみそですよ。APPLE][を将棋盤に
見立てて、人間二人で将棋するの。それでも当時はすごいことだったんです。
　で、その本に載っているリストであるとか広告見て、「パーコンがあれば、こ
んなことができるんだなーすげーなー！」とか思っていたんです。当時はマイコ
ンかパーコンです。パソコンなんてしゃれた呼び方になったのは80年中盤以降だ
ったかと。

　その本と出会ってから数年経ったある日、家から結構離れている国鉄駅近くの
デパートに「マイコン売り場」なるものができたというのを知り、ちょっと見に
行きました。
　「パラダイスっていうのはこういうものか」っていうくらい雑誌でしか見たこ
とないPCが陳列されているのを見て興奮したものです。どういうきっかけか覚え
てないですけど、何度か通っているうち、店員さんと仲良くなり、他のガキ共は
注意されているのを見るのに自分だけ注意されないなんていうPCを自由に使える
不思議な環境が手に入りました。

　それからは、店員さんに頼まれて雑誌のダンプリスト打ち込んでみたり、同じ
ようにPC使いたそうにしているやつも仲間に入れてソフトの交換やってみたりし
ていたんですが、ある日こんな話が出ました。

「このソフト、ダビングできないんだけど」

　その頃には、雑誌のテープサービスだけでなく、ショップが委託品なのかなん
かわかりませんが、そのショップのブランドとしてソフトを売っていたり(９９っ
て書いてあるソフトが結構あった)今で言うソフトハウスみたいな感じで、趣味の
延長で作られたソフトが売られはじめていました。

　で、ソフトウェアが商品になり始めた頃で、それまでは単純にダビングデッキ
でコピーできていたものがマスターのボリュームに低周波をかけたように音量が
ゆれていたんです。(VCAにLFOをかけたような感じといえばいいのかな…)
　小さいだけならば音量を上げればいいし、大きいだけならば下げればいい。だ
けど、それが周期的に来るとなれば手で調節するわけにもいかないわけです。
　さて、困った。どうしましょう?とその売り場のバイトだったTさんに相談する
と「じゃあ、おもしろい店があるから一緒に行こう」と言われ、渋谷へ行きまし
た。
　かすかな記憶では、その店は今じゃsで始まる量販店のあのお店なんですが、貸
しソフト屋だったので、多分違うと思います。そして、そのお店で「テープコピ
ーツール」というジャンルのソフトに出会いました。
　テープをコピーするツール。文字通り、そのまんまですね。

　どういう原理かと言えば、そのツールを実行するとテープの内容を一旦メモリ
に読み込みます。で、新しいテープにその内容を保存します。たったそれだけ。
　ただ、これが相当画期的だったのは、CLOAD/CSAVEといったBASICの機能は使わ
ず、ローダーと呼ばれる読み込み用プログラムを使っているような特殊フォーマ
ットのものでもメモリに読み込める内容ならば、コピーができたんです。これは
すごいと中坊の頭でもわかりました。ダビングしなくてもコピーできるんじゃん。
ま、中坊ならそんなもんです。


■0x04.) フロッピーディスクのすごいとこ

　テープの速度に満足できなくなった頃にちょうど小遣いで買えるくらいのフロ
ッピーディスクが出てきました。10枚で5,000円くらい。これなら買える！と思い
ました。今なら、5,000円あればハードディスク買えるけど。

　まあ、それはさておき、周りにやっと追いついたなか、私のPC環境もフロッピ
ーディスクに移っていきます。
　PC-80S31って知っていますか？NECがPC-8001用(後にPC-8801用にも)に出してい
たフロッピーディスクドライブです（PC-8031というでかい箱のバージョンアップ
版）
　この中にはフロッピーディスクコントローラ（FDC）ってのが載っていてディス
クの読み書き用のプログラムが動いています。これはNECのPC系と同じCPUでした。
　PC-88シリーズと同時期に人気のあった機種にFM-8/FM-7という富士通の出して
いたPCがあります。こちらにもフロッピーディスクドライブがあり、こちらはま
た違うCPUが載っていました。

　この頃にはもう数々のソフトハウスができソフトウェアは、商品として流通し
ていましたので、コピーされると売り上げが減る→プロテクトかければいいんじ
ゃね？という流れで、結構すごいプロテクトが施されていました。
　しかし…、こういうある種の壁ができるとそれを壊したがる人はいるもので、
先ほどのテープコピーツール以上におもしろいツールがたくさんでていました（
時期的にはフロッピーディスクのコピーツールのほうが先でしょう。その当時PC
-6001を使っていた私にとっては、テープコピーツールのほうが重要だったんです
…）。

　フロッピーディスクのコピーツールにはPC-8801/PC-8001の環境で動くものだけ
でも

・BabyMaker
・FileMaster
・RATS&STAR
・EXPERT88
・WIZARD88
・アインシュタイン

など、複数のものがありました。

　拡張ポートに入れるボードに可変抵抗が付いていて、それを回して回転数を変
更するなんていうものすごいものもありましたが…、そこまでしてコピーしてい
た人がいるのかどうかは疑問です。

　フルオートでコピー→チェッカーつぶすためのパッチを適用するタイプという
流れになっていき、貸しソフト屋→疑似貸しソフト屋（定価で販売→定価の8割で
買い取りなど）という商売の流れとも相まって話題になっていましたね。
　定期的に発売したソフト用のパッチを送ってくれるサービスなんかをやってい
るソフトハウスもありました。
　その他に「サークル」と称して、コピーソフトを配っている人たちもいました
が、今そんなことやったら、確実に起訴されますので、絶対にやめてくださいね。
雑誌のメンバー募集とかに「リスト送ります」なんて書いていたところは、確実
にこれでした。
　この辺のプロテクトに関しては、デュプリ屋さん（ゲームのマスターディスク
から実際の商品用にディスクをコピーして、パッケージにいれて出荷状態にして
くれる業者さん）のプロテクト開発部隊のみなさんの技術により、実に様々な方
法が考案されました。

　フロッピーディスクのフォーマットに一工夫して

・読み取るタイミングによって読み出されるデータが違うことを利用する
・基準になる穴を複数用意されていることで通常の読み出しとは違うデータになる
・1セクタの長さやセクタ間の隙間の長さを変えて通常とは違うタイミングで読み込む

などといった「そこまでやるのか…」的なものを施してみたり、

　チェッカーの方に

・チェックが通らなかったときに何度も再起動を繰り返す
・チェックが通りませんでしたよ的なメッセージを流す
・ふつーに遊べているはずなのに最後の最後で「コピーするな」とゲームが終わる

　なんていう、ちょっとした遊び要素が入ってしまって「どうなるのか知りたい」
人たちにとっては格好のネタになったわけです。

　この頃は、TheBASIC(技術評論社)などでもこの手のプロテクトのネタを扱って
いて、読んでいるこちらが「ほんとに大丈夫なのかな？」と心配になるくらいで
した。ある意味「バックアップ活用テクニック」よりトンガっていたと思います。
　その後、「Hacker」(確か、漫画ゴラク増刊)なんて雑誌もありましたが、こち
らはもう少し時期が後なだけに扱う内容はソフトだった気がします。SPT-HACKさ
んの記事が読みたくて買っていました。MSXに関する記事は特におもしろかったで
す。


■0x05.) MSXというプラットフォーム

　MSX/MSX2というのを知っている方はどれくらいいるでしょうか。エミュレータのfMSXなら知っているって方は多いでしょうね。
　今までで一番いいと思ったPCはなんですか?と聞かれれば、PC-6001な私がその後いろいろとお世話になったのは、なんといってもMSXでした。
　解像度も貧弱、メモリ容量も貧弱。だけど、いろいろと楽しい環境です。スプライトが使えるし、VDPもいろいろと便利に使えるのでプログラムをするには最高でしょう。
　でも、MSXでもやっぱりフロッピーディスクのプロテクトは存在していました。ただ、この頃になると「単純にコピーできなければいいよ」という妥協があったのか、DOSコールのセクタ読み出しを呼び出して、それが読めるか読めないかという単純なものくらいしか見たことがありません。
　実際にそのプロテクトフォーマットを自分のソフトに施したときもプログラムを数行追加するだけでOKだったので楽なことこのうえなかったのと同時にチェッカーに何かをいれるという楽しみがなかったので、物足りなかったのも事実です。
　VDP(ビデオディスプレイプロセッサー/映像周りの管理をするチップ)やPSG(プログラマブルサウンドジェネレータ/音源チップ)の操作などを本格的に覚えたのはこの環境があったからですし、その部分はその後ゲーム機であるとか遊技機などのハードウェアが関連することが多い環境のプログラムにも役に立ちました。(ソフト屋なのでだいぶ適当ではありますが、タイミングチャートの読み方とか覚えられたのはこれがあったから)


■0x06.) 解析ふたたび

　時代は一気に飛びますが…。世の中インターネットの時代になります。
　といっても、パソコン通信（今で言う@nifty（NIFTY-Serve）とかBIGLOBE（PC
-VAN））の頃にメールにドメイン名が付けられるようになったよ！とかrimnetの
uucpサービスでfjとか読めるんだよ！っていうところよりは、ちょっとあとです。

　知人の会社にスペースを借り、WEBサイトなんていうものを作ったりもしていた
ころ、MSXつながりで親しかった人に誘われ、転職しました。
　その当時在籍していた会社では、紆余曲折あったため、所属していた部署が本
社とは別の場所にありました。独立部隊には変な監視もないのもあり、割とやり
たい放題できたわけです。

　最初にやったのは、自分たち用のファイルサーバーを建てました。Linuxは0.99
の頃に自宅のPCにいれてだいぶめんどくさかったので、FreeBSDを入れ（それでも
めんどうだった）、Apacheを動かし、Sambaを入れ。Perlでスクリプトを書いて、
弁当の注文をまとめるスクリプトなんていうのを書いていました。
　ただ、回線自体はISDNなんていう貧弱なものだったので10数人が同時につなぐ
と大変なことになってしまうため、外に出て行く方は人のいない時間帯。それほ
ど見るところもありませんでしたから、それだけで充分だったんです。
　しばらくして、本社のあるビルを移転するからお前らもこっちに合流しろとい
うお達しがありまして、部署丸ごと本体に合流しました。そこには憧れの（笑）
1.5Mbps専用線（当時は、テレホーダイの頃です）が手に入るやいなや、私の中の
インターネットは始まりました（意味がわかりませんね、すいません）。
　同じフロアにいた連中は「ぁゃιぃわーるど」とかを見るのが好きなようでし
たが、私の方はと言えば…見つけたのは「シリアル集」ですよ。kurareさんの離
乳食もこの頃だったでしょうかね。

　そこから、いろんなページを探していくのも楽しかったのですが、「なんかめ
んどくせえなあ」が口癖な私としては、「んじゃ、自分でやればいいじゃん」と
なり、ほんとに適当にデバッガで中身を見ていった結果をToHeartサーバーに借り
た掲示板に掲載していきました。あと金さん掲示板ですよ。あそこもすごかった。
　で、当時情報なんてほとんどないし、特定の掲示板に集中していたんです。も
う名前忘れちゃったけど、パスワード知らないと入れない掲示板なんていうのも
ありました。
　そこでFCJの方々が定期的に来ては解析依頼に応えて結果を載せてくれる、みた
いなことも行われていたのを知ったのはもうちょい後ですえ。
　しばらくそういうことをやっているとCARJのLogyaさんという人からメールが来
ました。Logyaさんは、いろんな掲示板を巡回してそれこそ掲示板のLOGをまとめ
てくれていた方です。なにやら、CARJの中に「なんかおもろいことやっている人
がいるよ」という話をしていただいたそうで、良かったらCARJ掲示板見に来ない？
みたいな内容でした。
　他の人たちが何やっているのか知りたくて仕方なかったので、早速行ってみま
した。
　もうここから、のめり込むのは速かったです。ねずみさん、だっ！さんと知り
合ったのもこの頃です。
　FCJのかわら版さん、苦楽屋さん、鍵屋さん、H.Kさん、CARJのmoguraさん、kaz
99くん、Logyaさんなどお世話になった方は数知れず。
　ある程度やったなーと思っていた頃から後は仕事の忙しさなどもあり、飲み会
には行くけど、ほとんど表舞台にでることはなくなりました。裏方でなんかやっ
ている方が自分にあっているとも思いますし。

　ですから、今さら今回のような本を書くことは本当にためらわれました。しか
し、なんとなーく、ほんとに「なんとなく」ですが、せっかくの機会だし、昔自
分が苦労していたころに考えていた内容を書けるならそれもいいかなと思い、ま
とめてみました。
　技術的な部分は、本当に初歩の初歩です。ただ、あまり簡単な話ばかりでは手
応えがないかなと思ったので、kernelに近い部分に関してねずみさんに協力を仰
ぎました。
　おかげで簡単すぎることのない本ができたと思います。立ち読みでもいいから、
一度読んでいただけたらありがたいです。
　最後まで読んでいただいて、ありがとうございました。



